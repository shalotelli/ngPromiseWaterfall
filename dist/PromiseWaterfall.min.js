!function(e){"use strict";e.module("ngPromiseWaterfall",[])}(angular),function(e){"use strict";function t(t){function n(n){function r(t){return t&&e.isFunction(t.then)}return n=Array.prototype.slice.call(n),!e.isArray(n)||!e.isFunction(n.reduce)||n.length<1?t.reject("Array with reduce function is needed."):1===n.length?e.isFunction(n[0])?t.resolve(n[0]()):t.reject("First element of the array should be a function, got "+typeof n[0]):n.reduce(function(u,o){var i,c=u===n[0];return c?e.isFunction(u)?(i=u(),r(i)?i.then(o):t.reject("Function return value should be a promise.")):t.reject("List elements should be function to call."):r(u)?u.then(o):void t.reject("Function return value should be a promise.")})}return n}e.module("ngPromiseWaterfall").factory("PromiseWaterfall",t),t.$inject=["$q"]}(angular);